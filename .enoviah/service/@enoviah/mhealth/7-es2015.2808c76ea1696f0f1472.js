(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{BlEK:function(n,l,e){"use strict";e.r(l);var t=e("8Y7J");class u{}var i=e("pMnS"),a=e("SVse");class c{constructor(){this.dayElements=[],this.dayElementClicked=new t.m}ngOnInit(){}itemClicked(n){this.dayElements.forEach(n=>n.active=!1),n.active=!0,this.dayElementClicked.emit(n)}}var o=t.nb({encapsulation:0,styles:[[".tabs[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tabs[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tabs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:1em;border-bottom-color:transparent;width:40px;height:40px}.tabs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:22px;margin-bottom:20px;border-bottom-color:transparent}.tabs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.is-active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:.1rem solid #3273dc;border-radius:25091983px;color:#3273dc}"]],data:{}});function r(n){return t.Ib(0,[(n()(),t.pb(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),t.pb(1,0,null,null,2,"li",[["class","noselect"]],[[2,"is-active",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.itemClicked(n.context.$implicit)&&t),t}),null,null)),(n()(),t.pb(2,0,null,null,1,"a",[],null,null,null,null,null)),(n()(),t.Gb(3,null,["",""]))],null,(function(n,l){n(l,1,0,l.context.$implicit.active);var e=l.context.$implicit.date.getDate();n(l,3,0,e)}))}function s(n){return t.Ib(0,[(n()(),t.pb(0,0,null,null,3,"div",[["class","tabs is-centered is-marginless is-medium is-fullwidth"]],null,null,null,null,null)),(n()(),t.pb(1,0,null,null,2,"ul",[],null,null,null,null,null)),(n()(),t.eb(16777216,null,null,1,null,r)),t.ob(3,278528,null,0,a.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,3,0,l.component.dayElements)}),null)}var b=e("fNgX"),d=e("Nv++"),p=e("cUpR"),m=e("wHSu");class g{constructor(){this.iconAngleDown=m.b,this.iconAngleUp=m.c,this.active=!1,this.title=""}ngOnInit(){}}var f=t.nb({encapsulation:0,styles:[[".card.is-active[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .card.is-active[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:none}.card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{margin-bottom:1rem}"]],data:{}});function v(n){return t.Ib(0,[(n()(),t.pb(0,0,null,null,6,"footer",[["class","card-footer"]],null,null,null,null,null)),(n()(),t.pb(1,0,null,null,1,"a",[["class","card-footer-item"],["href","#"]],null,null,null,null,null)),(n()(),t.Gb(-1,null,["Save"])),(n()(),t.pb(3,0,null,null,1,"a",[["class","card-footer-item"],["href","#"]],null,null,null,null,null)),(n()(),t.Gb(-1,null,["Edit"])),(n()(),t.pb(5,0,null,null,1,"a",[["class","card-footer-item"],["href","#"]],null,null,null,null,null)),(n()(),t.Gb(-1,null,["Delete"]))],null,null)}function h(n){return t.Ib(0,[(n()(),t.pb(0,0,null,null,11,"div",[["class","card"]],[[2,"is-active",null]],null,null,null,null)),(n()(),t.pb(1,0,null,null,6,"header",[["class","card-header"]],null,null,null,null,null)),(n()(),t.pb(2,0,null,null,1,"p",[["class","card-header-title"]],null,null,null,null,null)),(n()(),t.Gb(3,null,[" "," "])),(n()(),t.pb(4,0,null,null,3,"a",[["aria-label","more options"],["class","card-header-icon"]],null,[[null,"click"]],(function(n,l,e){var t=!0,u=n.component;return"click"===l&&(t=0!=(u.active=!u.active)&&t),t}),null,null)),(n()(),t.pb(5,0,null,null,2,"span",[["class","icon"]],null,null,null,null,null)),(n()(),t.pb(6,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,b.e,b.c)),t.ob(7,573440,null,0,d.c,[p.b,d.a,d.d,[2,d.i]],{icon:[0,"icon"]},null),(n()(),t.pb(8,0,null,null,1,"div",[["class","card-content"]],null,null,null,null,null)),t.zb(null,0),(n()(),t.eb(16777216,null,null,1,null,v)),t.ob(11,16384,null,0,a.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,7,0,e.active?e.iconAngleUp:e.iconAngleDown),n(l,11,0,!1)}),(function(n,l){var e=l.component;n(l,0,0,e.active),n(l,3,0,e.title),n(l,6,0,t.Ab(l,7).title,t.Ab(l,7).renderedIconHTML)}))}class k{constructor(){this.weekElements=[],this.weekElementClicked=new t.m}ngOnInit(){}itemClicked(n){this.weekElements.forEach(n=>n.active=!1),n.active=!0,this.weekElementClicked.emit(n)}}var C=t.nb({encapsulation:0,styles:[[".tabs[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tabs[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tabs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:1em;border-bottom-color:transparent;height:40px}.tabs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:10px;border-bottom-color:transparent}.tabs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.is-active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:.1rem solid #3273dc;border-radius:25091983px;color:#3273dc}"]],data:{}});function w(n){return t.Ib(0,[(n()(),t.pb(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),t.pb(1,0,null,null,2,"li",[["class","noselect"]],[[2,"is-active",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.itemClicked(n.context.$implicit)&&t),t}),null,null)),(n()(),t.pb(2,0,null,null,1,"a",[],null,null,null,null,null)),(n()(),t.Gb(3,null,[""," - ",""]))],null,(function(n,l){n(l,1,0,l.context.$implicit.active);var e=l.context.$implicit.days[0].date.getDate(),t=l.context.$implicit.days[l.context.$implicit.days.length-1].date.getDate();n(l,3,0,e,t)}))}function M(n){return t.Ib(0,[(n()(),t.pb(0,0,null,null,3,"div",[["class","tabs is-centered is-marginless is-medium is-fullwidth"]],null,null,null,null,null)),(n()(),t.pb(1,0,null,null,2,"ul",[],null,null,null,null,null)),(n()(),t.eb(16777216,null,null,1,null,w)),t.ob(3,278528,null,0,a.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,3,0,l.component.weekElements)}),null)}class y{constructor(){this.emojis=[]}ngOnInit(){}}var O=t.nb({encapsulation:0,styles:[[".filter-button[_ngcontent-%COMP%]{opacity:.2}.filter-button.is-active[_ngcontent-%COMP%]{opacity:1}"]],data:{}});function D(n){return t.Ib(0,[(n()(),t.pb(0,0,null,null,2,"li",[],null,null,null,null,null)),(n()(),t.pb(1,0,null,null,1,"p",[["class","title is-5 filter-button"]],[[2,"is-active",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=0!=(n.context.$implicit.active=!n.context.$implicit.active)&&t),t}),null,null)),(n()(),t.Gb(2,null,["",""]))],null,(function(n,l){n(l,1,0,l.context.$implicit.active),n(l,2,0,l.context.$implicit.char)}))}function E(n){return t.Ib(0,[(n()(),t.pb(0,0,null,null,3,"div",[["class","box"]],null,null,null,null,null)),(n()(),t.pb(1,0,null,null,2,"ul",[["class","is-flex"],["style","justify-content: space-around"]],null,null,null,null,null)),(n()(),t.eb(16777216,null,null,1,null,D)),t.ob(3,278528,null,0,a.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,3,0,l.component.emojis)}),null)}class _{constructor(n,l,e,t,u){this.calendarService=n,this.translateService=l,this.patientService=e,this.patientMedicationService=t,this.patientInvestigationService=u,this.iconsForFilterBar=[{char:"\u{1f6a8}",active:!0},{char:"\u{1f454}",active:!0},{char:"\u{1f48a}",active:!0},{char:"\u{1f4c5}",active:!1}],this._weekElements=[]}get weekElements(){return this._weekElements}set weekElements(n){this._weekElements=n}ngOnInit(){const n=new Date;this.calendarService.calendar$.getValue().length?this.weekElements=this.calendarService.calendar$.getValue():(this.calendarService.generateCalendarFromDate(n),this.calendarService.calendar$.subscribe(n=>{this.weekElements=n}),this.calendarService.linkPatientData(n))}calendarChangeDayEvent(n){}calendarChangeWeekEvent(n){}getActiveWeek(){for(const n of this.weekElements)if(n.active)return n}isAllowedEmoji(n){let l=!1;return this.iconsForFilterBar.forEach(e=>{e.char===n&&e.active&&(l=!0)}),l}}var x=e("2Vo4"),I=e("IheW"),P=e("N9w1"),$=e("9Dpb"),S=e("9f7n");let F=(()=>{class n{constructor(n,l,e,t){this.http=n,this.patientMedicationService=l,this.patientInvestigationService=e,this.patientService=t,this._calendar=[],this.calendar$=new x.a([])}createDateArray(n,l){const e=new Date(Date.now()),t=[],u=new Date(n);for(;u<=l;){const n=new Date(u);t.push({active:e.getDate()===n.getDate(),date:n,events:this.getCalendarEventsForMock(n)}),u.setDate(u.getDate()+1)}return t}getCalendarEventsForMock(n){return n.getDate()%2==0?[{emoji:"\u{1f454}",from:new Date(Date.now()),to:new Date(Date.now()),text:"test",title:"title",typeName:"type",urgent:!1}]:[{emoji:"\u{1f48a}",from:new Date(Date.now()),to:new Date(Date.now()),text:"test",title:"title",typeName:"type",urgent:!1}]}generateCalendarFromDate(n){let l=new Date;const e={from:new Date(l.setDate(n.getDate()-15)),to:new Date(l.setDate(n.getDate()+28))};l=e.from;const t=[];for(let u=0;u<5;u++){const e={active:2===u,days:[]};for(let t=0;t<7;t++)e.days.push({date:new Date(l.setDate(l.getDate()+1)),events:[],active:n.getDate()===l.getDate()});t.push(e)}this._calendar=t,this.calendar$.next(this._calendar)}linkPatientData(n){this.patientService.patient$.subscribe(n=>{n&&(this.patientMedicationService.init().subscribe(),this.patientInvestigationService.init().subscribe())}),this.patientMedicationService.ready$.subscribe(()=>{this.linkMedicationsToCalendar(n)}),this.patientInvestigationService.ready$.subscribe(()=>{this.linkInvestigationsToCalendar(n)})}linkMedicationsToCalendar(n){for(const l of this._calendar)for(const n of l.days)n.events.push(...this.patientMedicationService.findMedicationsForDate(n.date));this.calendar$.next(this._calendar)}linkInvestigationsToCalendar(n){for(const l of this._calendar)for(const n of l.days)n.events.push(...this.patientInvestigationService.findInvestigationsForDate(n.date));this.calendar$.next(this._calendar)}}return n.ngInjectableDef=t.Mb({factory:function(){return new n(t.Nb(I.c),t.Nb(P.a),t.Nb($.a),t.Nb(S.a))},token:n,providedIn:"root"}),n})();var j=e("TSSN"),J=t.nb({encapsulation:0,styles:[[".notification[_ngcontent-%COMP%]{text-align:center;display:none}.notification[_ngcontent-%COMP%]:not(:first-child){margin-top:1rem}h1[_ngcontent-%COMP%]{margin-top:1.5rem}.section[_ngcontent-%COMP%]{padding-top:0}"]],data:{}});function A(n){return t.Ib(0,[(n()(),t.pb(0,0,null,null,1,"app-day-scroller",[],null,[[null,"dayElementClicked"]],(function(n,l,e){var t=!0;return"dayElementClicked"===l&&(t=!1!==n.component.calendarChangeDayEvent(e)&&t),t}),s,o)),t.ob(1,114688,null,0,c,[],{dayElements:[0,"dayElements"]},{dayElementClicked:"dayElementClicked"})],(function(n,l){n(l,1,0,l.component.getActiveWeek().days)}),null)}function N(n){return t.Ib(0,[(n()(),t.pb(0,0,null,null,4,"app-card-collapsile",[],null,null,null,h,f)),t.ob(1,114688,null,0,g,[],{title:[0,"title"]},null),(n()(),t.pb(2,0,null,0,2,"div",[["class","content"]],null,null,null,null,null)),(n()(),t.pb(3,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),t.Gb(4,null,["",""]))],(function(n,l){n(l,1,0,l.parent.context.$implicit.emoji+" - "+l.parent.context.$implicit.title)}),(function(n,l){n(l,4,0,l.parent.context.$implicit.text)}))}function G(n){return t.Ib(0,[(n()(),t.pb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),t.eb(16777216,null,null,1,null,N)),t.ob(2,16384,null,0,a.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(n()(),t.eb(0,null,null,0))],(function(n,l){n(l,2,0,l.component.isAllowedEmoji(l.context.$implicit.emoji))}),null)}function T(n){return t.Ib(0,[(n()(),t.pb(0,0,null,null,5,"div",[["class","field"]],null,null,null,null,null)),(n()(),t.pb(1,0,null,null,2,"h1",[["class","has-text-weight-semibold title is-4 is-capitalized"]],null,null,null,null,null)),(n()(),t.Gb(2,null,["",""])),t.Db(3,4),(n()(),t.eb(16777216,null,null,1,null,G)),t.ob(5,278528,null,0,a.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,5,0,l.context.$implicit.events)}),(function(n,l){var e=l.component,u=t.Hb(l,2,0,n(l,3,0,t.Ab(l.parent.parent.parent,0),l.context.$implicit.date,"EEEE dd","",e.translateService.currentLang));n(l,2,0,u)}))}function q(n){return t.Ib(0,[(n()(),t.pb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),t.pb(1,0,null,null,3,"section",[["class","section"]],null,null,null,null,null)),(n()(),t.pb(2,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(n()(),t.eb(16777216,null,null,1,null,T)),t.ob(4,278528,null,0,a.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,4,0,l.parent.context.$implicit.days)}),null)}function W(n){return t.Ib(0,[(n()(),t.pb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),t.eb(16777216,null,null,1,null,q)),t.ob(2,16384,null,0,a.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(n()(),t.eb(0,null,null,0))],(function(n,l){n(l,2,0,l.context.$implicit.active)}),null)}function z(n){return t.Ib(0,[t.Cb(0,a.d,[t.s]),(n()(),t.pb(1,0,null,null,1,"app-week-scroller",[],null,[[null,"weekElementClicked"]],(function(n,l,e){var t=!0;return"weekElementClicked"===l&&(t=!1!==n.component.calendarChangeWeekEvent(e)&&t),t}),M,C)),t.ob(2,114688,null,0,k,[],{weekElements:[0,"weekElements"]},{weekElementClicked:"weekElementClicked"}),(n()(),t.eb(16777216,null,null,1,null,A)),t.ob(4,16384,null,0,a.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(n()(),t.pb(5,0,null,null,1,"app-icon-bar",[],null,null,null,E,O)),t.ob(6,114688,null,0,y,[],{emojis:[0,"emojis"]},null),(n()(),t.eb(16777216,null,null,1,null,W)),t.ob(8,278528,null,0,a.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var e=l.component;n(l,2,0,e.weekElements),n(l,4,0,!1),n(l,6,0,e.iconsForFilterBar),n(l,8,0,e.weekElements)}),null)}function B(n){return t.Ib(0,[(n()(),t.pb(0,0,null,null,1,"app-day-page",[],null,null,null,z,J)),t.ob(1,114688,null,0,_,[F,j.j,S.a,P.a,$.a],null,null)],(function(n,l){n(l,1,0)}),null)}var H=t.lb("app-day-page",_,B,{},{},[]),V=e("iInd");class L{}class U{}class X{}class K{}class R{}e.d(l,"DayPageModuleNgFactory",(function(){return Y}));var Y=t.mb(u,[],(function(n){return t.xb([t.yb(512,t.j,t.X,[[8,[i.a,H,b.b,b.a]],[3,t.j],t.v]),t.yb(4608,a.l,a.k,[t.s,[2,a.t]]),t.yb(1073742336,a.b,a.b,[]),t.yb(1073742336,V.m,V.m,[[2,V.r],[2,V.l]]),t.yb(1073742336,L,L,[]),t.yb(1073742336,d.j,d.j,[]),t.yb(1073742336,U,U,[]),t.yb(1073742336,X,X,[]),t.yb(1073742336,K,K,[]),t.yb(1073742336,R,R,[]),t.yb(1073742336,u,u,[]),t.yb(1024,V.j,(function(){return[[{path:"",component:_}]]}),[])])}))}}]);